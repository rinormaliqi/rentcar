"use strict";(()=>{var e={};e.id=249,e.ids=[249],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2686:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>S,patchFetch:()=>_,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>g});var o={};r.r(o),r.d(o,{POST:()=>c});var a=r(5419),s=r(9108),i=r(9678),n=r(8070);let p=()=>{let e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return`RES-${e}-${t}`.toUpperCase()},u=e=>e?new Date(e).toLocaleDateString("en-GB"):"",d=e=>e?`Time ${e.substring(0,5)}`:"";async function c(e){try{let t=await e.json(),r={...{...t,pickup_date:u(t.pickup_date),dropoff_date:u(t.dropoff_date),pickup_time:d(t.pickup_time),dropoff_time:d(t.dropoff_time)},reservation_id:p(),approved:"FALSE",in_process:"FALSE",deleted:"FALSE",created_at:new Date().toISOString()};console.log("Formatted payload:",r);let o=await fetch("https://sheetdb.io/api/v1/4th2lq81a9ra1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[r]})}),a=await o.json();if(!o.ok)throw Error(a.error||"SheetDB API error");return n.Z.json({status:"success",reservation_id:r.reservation_id,message:"Reservation submitted successfully"})}catch(e){return console.error("API Error:",e),n.Z.json({status:"error",message:e.message||"Failed to submit reservation"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/reserve/route",pathname:"/api/reserve",filename:"route",bundlePath:"app/api/reserve/route"},resolvedPagePath:"/Users/apple/Desktop/zento-full/app/api/reserve/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:v,serverHooks:h,headerHooks:f,staticGenerationBailout:g}=l,S="/api/reserve/route";function _(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:v})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(2686));module.exports=o})();